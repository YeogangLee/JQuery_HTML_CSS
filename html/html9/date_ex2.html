<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script type="text/javascript">
		function proc(){
			// 현재시간 구하기
			var currDate = new Date(); // ==> Date 객체
			
			console.log(currDate.getTime()); // currTime을 milisec으로 리턴
			
			//7일 뒤 날짜 계산
			var afterTime = currDate.getTime() + (7 * 24 * 60 * 60 * 1000); // 7일에 대한 milisec
			
			var afterDate = new Date(afterTime);
			
			
			// 현재시간 화면에 표시
			document.getElementById("spCurrTime").innerHTML = currDate;
			
			// 7일 후의 날짜 화면에 표시
			document.getElementById("spAfter").innerHTML = afterDate;
			
		}
		
		function checkDate(){
			var buyDate = document.getElementById("buyDate").value;
			console.log(buyDate);
			console.log("구입일자 date : " + new Date(buyDate));
			
// 			var buyTime = (new Date(buyDate)).getTime(); // ex) new Date("2021-05-12")

			// new Date("2021-05-10") ==> ex) 2021-05-10 오전 9시
			// new Date("2021-05-10 ") ==> ex) 2021-05-10 오전 0시
			// new Date("2021-05-10 00:00") ==> ex) 2021-05-10 오전 0시
			// new Date("2021-05-10 00:00:00") ==> ex) 2021-05-10 오전 0시

			var buyTime = (new Date(buyDate + "00:00:00")).getTime(); // ex) new Date("2021-05-12")
			
			var currDate = new Date();
			console.log("현재일자 date : " + currDate);
			var currTime = currDate.getTime();
			
			var result = (currTime - buyTime)/1000/60/60/24;
			// milisec            sec  분  시   일
			console.log(result);
			
			if(result >= 8){
				alert("교환가능 기간은 7일 입니다.");
			}else{
				alert("교환가능 합니다.");
			}
			
		}
	</script>
</head>
<body>
	<button type="button" onclick="proc()">수행</button>
	<p>현재 시간은 '<span id="spCurrTime"></span>'입니다.</p>
	<p>7일 후 시간은 '<span id="spAfter"></span>'입니다.</p>
	
	<hr>
	
	구입날짜 : <input type="date" id="buyDate">
	<button type="button" onclick="checkDate()">검사</button>
	
</body>
</html>










