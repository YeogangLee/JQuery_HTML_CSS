<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script type="text/javascript">
// 		function checkDate() {
			
// 			var buyDate = document.getElementById("buyDate").value;
// 			console.log("buyDate: " + typeof(buyDate));
// // 			var currDate = new Date();
// // 			console.log("currDate: " + typeof(currDate));
			
// 			var buyTime = buyDate / 1000 / 60 / 60 / 24;
			
// 			//교환기간 7일
// 			var changeDay = 7;
// 			var changeTime = buyDate.getTime() + (changeDay * 24 * 60 * 60 * 1000);
// 			var changeDate = new Date(changeTime);
// 			var currDate = new Date();
			
// // 			console.log(currDate < changeDate);
			
// 			if(currDate.getTime() < changeDate.getTime()) {
// // 				alert("교환 가능합니다.");
// 				console.log("교환 가능합니다.");
// 			}else {
// // 				alert("교환 기간이 지났습니다. 교환 기간은 " + changeDay + "일입니다.");
// 				console.log("교환 기간이 지났습니다. 교환 기간은 " + changeDay + "일입니다.");
// 			}
// 		}
		
		function checkDate() {
			var buyDate = document.getElementById("buyDate").value;
			console.log(buyDate);
			console.log("구입일자 Date: " + new Date(buyDate));
			
// 			var buyTime = (new Date(buyDate + "00:00:00")).getTime(); // ex) new Date("2021-05-12");
			
// 			new Date("2021-05-10") ==> ex) 2021-05-10 오전 9시 
// 			new Date("2021-05-10 ") ==> ex) 2021-05-10 오전 0시 
// 			new Date("2021-05-10 00:00") ==> ex) 2021-05-10 오전 0시 
// 			new Date("2021-05-10 00:00:00") ==> ex) 2021-05-10 오전 0시 
			//오전 오후에 따라 실행결과가 달라지는 코드들이 있다 ...
			//날짜는 항상 꼼꼼하게 사용

			
			//new Date 앞에 괄호 없어도 에러X
			var buyTime = (new Date(buyDate + "00:00:00")).getTime(); // ex) new Date("2021-05-12");
			
			var currDate = new Date();
			console.log("현재일자 Date: " + new Date(currDate));//
			
			
			var currTime = currDate.getTime();
			console.log("curr: " + currTime);
			
			//millisec 단위로 계산	              //sec   min  hour day
			var result = (currTime - buyTime)/1000/60/60/24;
			console.log("result: "+ result);
			
			var changeDay = 7;
// 			if(result <= changeDay) {
// 				alert("교환 기간이 지났습니다. 교환 기간은 " + changeDay + "일입니다.");
//  				console.log("교환 기간이 지났습니다. 교환 기간은 " + changeDay + "일입니다.");
//  			}else {
// 				alert("교환 기간인 "+changeDay+"일이 지나지 않아 교환 가능합니다.");
//  				console.log("교환 가능합니다.");
//  			}
			if(result > 8){
				alert("불가능");
			}else {
				alert("교환 가능");
			}
				
		}
	</script>
</head>
<body>
	구입 날짜 : <input type="date" id="buyDate">
	<button type="button" onclick="checkDate();">검사</button>
</body>
</html>